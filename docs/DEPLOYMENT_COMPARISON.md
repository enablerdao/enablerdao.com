# ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹å¼æ¯”è¼ƒ: Cloudflare Pages vs Fly.io

enablerdao.comå‘ã‘Next.jsãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ é¸å®šã‚¬ã‚¤ãƒ‰

ä½œæˆæ—¥: 2026-02-14

---

## 1. æ¦‚è¦æ¯”è¼ƒè¡¨

| é …ç›® | Cloudflare Pages | Fly.io |
|------|-----------------|--------|
| **ä¾¡æ ¼ï¼ˆç„¡æ–™æ ï¼‰** | ç„¡åˆ¶é™ã®å¸¯åŸŸå¹…ãƒ»ãƒªã‚¯ã‚¨ã‚¹ãƒˆ<br>æœˆ500ãƒ“ãƒ«ãƒ‰<br>1ä¸¦è¡Œãƒ“ãƒ«ãƒ‰<br>ãƒ•ã‚¡ã‚¤ãƒ«æ•°ä¸Šé™20,000<br>æœ€å¤§25MiBãƒ•ã‚¡ã‚¤ãƒ« | 3å°ã®å…±æœ‰VM (256MB)<br>3GBæ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸<br>160GBå¸¯åŸŸå¹…<br>ãã‚Œä»¥é™ã¯å¾“é‡èª²é‡‘ |
| **ä¾¡æ ¼ï¼ˆæœ‰æ–™ãƒ—ãƒ©ãƒ³ï¼‰** | Workers Paid: $5/æœˆ<br>+ è¿½åŠ ãƒªã‚¯ã‚¨ã‚¹ãƒˆèª²é‡‘<br>(1,000ä¸‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆè¶…éåˆ†) | å¾“é‡èª²é‡‘ã®ã¿<br>VM: $0.0027/æ™‚ ($1.94/æœˆ)<br>å¸¯åŸŸ: $0.02/GB<br>ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸: $0.08/GB/æœˆ |
| **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼ˆãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ï¼‰** | éå¸¸ã«å„ªç§€ï¼ˆ15mså‰å¾Œï¼‰<br>å…¨ä¸–ç•Œ300+æ‹ ç‚¹ã®CDN<br>HTTP/3å¯¾å¿œ<br>ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆã»ã¼ã‚¼ãƒ­ | è‰¯å¥½ï¼ˆ50-100msï¼‰<br>åœ°åŸŸåˆ¥VMé…ç½®<br>ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆæ•°ç§’<br>WebSocketå¯¾å¿œ |
| **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£** | è‡ªå‹•ãƒ»ç„¡åˆ¶é™<br>ã‚¨ãƒƒã‚¸ã§å³åº§ã«ã‚¹ã‚±ãƒ¼ãƒ«<br>åŒæ™‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆåˆ¶é™ãªã— | åœ°åŸŸåˆ¥VMæ‰‹å‹•å¢—è¨­<br>ã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒ«è¨­å®šå¯èƒ½<br>ã‚¼ãƒ­ã‚¹ã‚±ãƒ¼ãƒ«å¯¾å¿œ |
| **ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚é–“** | 1-3åˆ†<br>ãƒ“ãƒ«ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚ã‚Š<br>æœˆ500ãƒ“ãƒ«ãƒ‰åˆ¶é™ï¼ˆFreeï¼‰ | 2-5åˆ†<br>Dockerãƒ“ãƒ«ãƒ‰æ™‚é–“å«ã‚€<br>åˆ¶é™ãªã— |
| **é‹ç”¨è² è·** | ä½ã„<br>è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒ«ãƒ»è‡ªå‹•SSL<br>CDNè¨­å®šä¸è¦<br>ãƒ“ãƒ«ãƒ‰æœ€é©åŒ–ãŒå¿…è¦ | ä¸­ç¨‹åº¦<br>fly.tomlè¨­å®š<br>åœ°åŸŸç®¡ç†<br>ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯è¨­å®š |
| **Next.jsäº’æ›æ€§** | âš ï¸ åˆ¶é™ã‚ã‚Š<br>Edge Runtimeã®ã¿ï¼ˆæ—§æ–¹å¼ï¼‰<br>OpenNextæ¨å¥¨ï¼ˆæ–°æ–¹å¼ï¼‰<br>25MiBåˆ¶é™ | âœ… å®Œå…¨äº’æ›<br>æ¨™æº–Node.js Runtime<br>åˆ¶é™ãªã— |
| **APIãƒ«ãƒ¼ãƒˆå¯¾å¿œ** | âš ï¸ åˆ¶é™ã‚ã‚Š<br>Edge Runtimeå¿…é ˆ<br>Node.jsæ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæœªå¯¾å¿œ<br>OpenNextã§æ”¹å–„ | âœ… å®Œå…¨å¯¾å¿œ<br>ã™ã¹ã¦ã®Node.jsæ©Ÿèƒ½<br>WebSocket/SSEå¯¾å¿œ |
| **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹çµ±åˆ** | D1 (SQLite)<br>KV (Key-Value)<br>R2 (S3äº’æ›)<br>å¤–éƒ¨DBæ¥ç¶šå¯ï¼ˆé…å»¶ã‚ã‚Šï¼‰ | Postgresæ¨™æº–<br>Redis (Upstashé€£æº)<br>å¤–éƒ¨DBæ¥ç¶šå®¹æ˜“ |
| **ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³** | ç„¡åˆ¶é™<br>è‡ªå‹•SSL (Let's Encrypt)<br>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚ãŸã‚Š100ãƒ‰ãƒ¡ã‚¤ãƒ³ | ç„¡åˆ¶é™<br>è‡ªå‹•SSL (Let's Encrypt)<br>ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰å¯¾å¿œ |
| **SSLè¨¼æ˜æ›¸** | è‡ªå‹•ç™ºè¡Œãƒ»æ›´æ–°<br>Cloudflareè¨¼æ˜æ›¸<br>ç„¡æ–™ | è‡ªå‹•ç™ºè¡Œãƒ»æ›´æ–°<br>Let's Encrypt<br>ç„¡æ–™ |
| **é–‹ç™ºè€…ä½“é¨“** | GitHubé€£æºç°¡å˜<br>Wranglerãƒ„ãƒ¼ãƒ«<br>ãƒ­ãƒ¼ã‚«ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼<br>ãƒ“ãƒ«ãƒ‰è¨­å®šè¤‡é›‘ | flyctl CLI<br>Dockerfileåˆ¶å¾¡<br>ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒåŒä¸€<br>å­¦ç¿’æ›²ç·šã‚„ã‚„æ€¥ |
| **ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°** | Analyticsæ¨™æº–<br>Web Analytics<br>Real User Monitoring<br>ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ  | ãƒ¡ãƒˆãƒªã‚¯ã‚¹æ¨™æº–<br>Grafanaé€£æº<br>ãƒ­ã‚°ç„¡æ–™é–²è¦§<br>Sentryé€£æºå®¹æ˜“ |

---

## 2. enablerdao.comå‘ã‘æ¨å¥¨åˆ†æ

### ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ç‰¹æ€§

enablerdao.comã®æƒ³å®š:
- **æœˆé–“è¨ªå•æ•°**: 6,000ã€œ10,000ãƒ¦ãƒ‹ãƒ¼ã‚¯ãƒ“ã‚¸ã‚¿ãƒ¼
- **ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼**: 20,000ã€œ35,000 PV/æœˆ
- **é™çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ¯”ç‡**: 70%ï¼ˆLPã€Aboutã€Blogï¼‰
- **å‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„**: 30%ï¼ˆNewsletter APIã€Member Dashboardï¼‰

### APIä½¿ç”¨é »åº¦

ç¾åœ¨å®Ÿè£…æ¸ˆã¿ãƒ»è¨ˆç”»ä¸­ã®API:
- **Newsletterè³¼èª­API** (`/api/newsletter`) - ä½é »åº¦ï¼ˆæ•°åå›/æ—¥ï¼‰
- **èªè¨¼API** (å°†æ¥å®Ÿè£…) - ä¸­é »åº¦ï¼ˆæ•°ç™¾å›/æ—¥ï¼‰
- **ãƒ¡ãƒ³ãƒãƒ¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰API** (å°†æ¥å®Ÿè£…) - ä¸­é »åº¦
- **Webhookå—ä¿¡** (Resendã€Stripeç­‰) - ä½é »åº¦

### ã‚³ã‚¹ãƒˆè©¦ç®—ï¼ˆæœˆé–“10,000è¨ªå•æƒ³å®šï¼‰

#### Cloudflare Pages
```
ç„¡æ–™ãƒ—ãƒ©ãƒ³ã§ååˆ†ã‚«ãƒãƒ¼å¯èƒ½:
- ãƒ“ãƒ«ãƒ‰: æœˆ30å›ç¨‹åº¦ï¼ˆ500å›åˆ¶é™å†…ï¼‰
- å¸¯åŸŸå¹…: ç„¡åˆ¶é™ï¼ˆFreeãƒ—ãƒ©ãƒ³ï¼‰
- ãƒªã‚¯ã‚¨ã‚¹ãƒˆ: ç„¡åˆ¶é™ï¼ˆé™çš„ã‚¢ã‚»ãƒƒãƒˆï¼‰
- Functions: 100,000ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ—¥ã¾ã§ç„¡æ–™
  â†’ æœˆé–“3,000 Functionsãƒªã‚¯ã‚¨ã‚¹ãƒˆç¨‹åº¦ãªã‚‰å®Œå…¨ç„¡æ–™

æœ‰æ–™åŒ–ã®å ´åˆï¼ˆWorkers Paid: $5/æœˆï¼‰:
- 1,000ä¸‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æœˆã¾ã§è¾¼ã¿
- ãã‚Œä»¥é™ $0.50/100ä¸‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
- æƒ³å®šæœˆé¡: $5 (å›ºå®š)
```

#### Fly.io
```
ç„¡æ–™æ ï¼ˆ3å°å…±æœ‰VM 256MBï¼‰:
- 3å° Ã— $0ï¼ˆç„¡æ–™æ åˆ©ç”¨ï¼‰
- å¸¯åŸŸ: 160GBç„¡æ–™ â†’ 20,000 PV Ã— 1MBå¹³å‡ = 20GB â†’ ç„¡æ–™æ å†…
- ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸: 3GBç„¡æ–™æ åˆ©ç”¨

ç„¡æ–™æ è¶…éæ™‚:
- VM 1å°ï¼ˆshared-cpu-1x, 256MB, å¸¸æ™‚ç¨¼åƒï¼‰: $1.94/æœˆ
- å¸¯åŸŸ20GB: ç„¡æ–™æ å†…
- æƒ³å®šæœˆé¡: $1.94ã€œ$5ï¼ˆåœ°åŸŸå±•é–‹ãªã—ï¼‰

åœ°åŸŸå±•é–‹æ™‚ï¼ˆTokyo + Singaporeï¼‰:
- VM 2å°: $3.88/æœˆ
- å¸¯åŸŸ40GBï¼ˆä¸¡ãƒªãƒ¼ã‚¸ãƒ§ãƒ³åˆè¨ˆï¼‰: ç„¡æ–™æ å†…
- æƒ³å®šæœˆé¡: $3.88ã€œ$8
```

### é–‹ç™ºä½“é¨“

| è¦³ç‚¹ | Cloudflare Pages | Fly.io |
|------|-----------------|--------|
| **åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—** | GitHubé€£æºã§5åˆ† | flyctlè¨­å®šã§10åˆ† |
| **ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º** | Wrangler devï¼ˆEdge Runtimeã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆï¼‰ | Next.jsæ¨™æº–devã‚µãƒ¼ãƒãƒ¼ |
| **ãƒ‡ãƒãƒƒã‚°** | ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ ã€tail | flyctl logsã€SSHæ¥ç¶šå¯èƒ½ |
| **CI/CD** | GitHub Actionsè‡ªå‹•æ§‹ç¯‰ | GitHub Actions + flyctl deploy |
| **ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰** | å¯¾å¿œï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ï¼‰ | å¯¾å¿œï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ï¼‰ |
| **ä¾å­˜é–¢ä¿‚ç®¡ç†** | package.jsonï¼ˆEdgeåˆ¶ç´„ã‚ã‚Šï¼‰ | package.jsonï¼ˆåˆ¶ç´„ãªã—ï¼‰ |

### æ—¢å­˜ã‚¤ãƒ³ãƒ•ãƒ©ã¨ã®æ•´åˆæ€§

ç¾åœ¨ã®æ§‹æˆ:
- **jiuflow-ssr** â†’ Fly.io (jiuflow-ssr.fly.dev)
- **wisbee** â†’ Cloudflareï¼ˆæ¨æ¸¬ï¼‰
- **nanobot** â†’ AWS Lambda + Fly.io

**æ•´åˆæ€§åˆ†æ**:
- Fly.ioã‚’é¸æŠ â†’ jiuflow-ssrã¨çµ±ä¸€ã€é‹ç”¨çŸ¥è¦‹ã‚’å…±æœ‰å¯èƒ½
- Cloudflare Pagesã‚’é¸æŠ â†’ æ–°ã—ã„ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ç¿’å¾—ã€ä½†ã—é™çš„ã‚µã‚¤ãƒˆã«æœ€é©åŒ–

---

## 3. ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ¥æ¨å¥¨

### Cloudflare PagesãŒå‘ã„ã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹

âœ… **æ¡ç”¨ã™ã¹ãã‚±ãƒ¼ã‚¹**:
1. **é™çš„ã‚µã‚¤ãƒˆä¸­å¿ƒ** - ãƒ–ãƒ­ã‚°ã€ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã€LPãŒä¸»ä½“
2. **ã‚°ãƒ­ãƒ¼ãƒãƒ«CDNå¿…é ˆ** - ä¸–ç•Œä¸­ã‹ã‚‰ä½ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã‚¢ã‚¯ã‚»ã‚¹å¿…è¦
3. **ç„¡æ–™ã§å§‹ã‚ãŸã„** - ç„¡åˆ¶é™å¸¯åŸŸå¹…ãŒé­…åŠ›
4. **ãƒ“ãƒ«ãƒ‰é »åº¦ãŒä½ã„** - æœˆ500ãƒ“ãƒ«ãƒ‰ä»¥å†…ï¼ˆ1æ—¥16å›ä»¥å†…ï¼‰
5. **Cloudflareã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ æ´»ç”¨** - D1/KV/R2ã‚’ä½¿ã„ãŸã„

âš ï¸ **æ³¨æ„ãŒå¿…è¦ãªã‚±ãƒ¼ã‚¹**:
- Node.jsæ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ä¾å­˜ã™ã‚‹ã‚³ãƒ¼ãƒ‰ï¼ˆ`fs`, `crypto`, `path`ç­‰ï¼‰
- ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ã®è¤‡é›‘ãªå‡¦ç†ï¼ˆç”»åƒå‡¦ç†ã€PDFç”Ÿæˆç­‰ï¼‰
- WebSocket/Server-Sent Eventsåˆ©ç”¨
- 25MiBã‚’è¶…ãˆã‚‹å¤§è¦æ¨¡ã‚¢ãƒ—ãƒª

**å…·ä½“ä¾‹**:
```javascript
// âœ… Cloudflare Pagesã§å‹•ä½œ
export const runtime = 'edge';
export async function GET(request: Request) {
  const data = await fetch('https://api.example.com/data');
  return Response.json(data);
}

// âŒ Cloudflare Pagesã§å‹•ä½œã—ãªã„ï¼ˆæ—§æ–¹å¼ï¼‰
import fs from 'fs'; // Edge Runtimeã§ã¯æœªå¯¾å¿œ
export async function GET() {
  const data = fs.readFileSync('./data.json'); // ã‚¨ãƒ©ãƒ¼
  return Response.json(JSON.parse(data));
}

// âœ… OpenNextä½¿ç”¨ã§å‹•ä½œå¯èƒ½ï¼ˆæ–°æ–¹å¼ï¼‰
// next.config.ts ã§ OpenNextè¨­å®š
```

### Fly.ioãŒå‘ã„ã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹

âœ… **æ¡ç”¨ã™ã¹ãã‚±ãƒ¼ã‚¹**:
1. **ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯Next.js** - API Routesã€Server Actionså¤šç”¨
2. **Node.jsæ¨™æº–æ©Ÿèƒ½å¿…é ˆ** - ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã€æš—å·åŒ–ç­‰
3. **WebSocket/ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ** - ãƒãƒ£ãƒƒãƒˆã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
4. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åŒå±…** - Fly Postgresã¨åŒä¸€ãƒªãƒ¼ã‚¸ãƒ§ãƒ³é…ç½®
5. **æ—¢å­˜Dockerãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼** - Dockerfileåˆ¶å¾¡ãŒå¿…è¦

âœ… **æ¨å¥¨ã™ã‚‹ã‚±ãƒ¼ã‚¹**:
- ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆSSRï¼‰ãŒä¸­å¿ƒ
- è¤‡é›‘ãªãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ­ã‚¸ãƒƒã‚¯
- ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- SSHæ¥ç¶šã—ã¦ãƒ‡ãƒãƒƒã‚°ã—ãŸã„

**å…·ä½“ä¾‹**:
```javascript
// âœ… Fly.ioã§å¿«é©ã«å‹•ä½œ
import fs from 'fs';
import { generatePDF } from 'some-pdf-library';

export async function POST(request: Request) {
  const data = await request.json();
  const pdf = await generatePDF(data); // é‡ã„å‡¦ç†OK
  fs.writeFileSync('/tmp/output.pdf', pdf); // ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œOK
  return new Response(pdf, {
    headers: { 'Content-Type': 'application/pdf' }
  });
}

// WebSocketå¯¾å¿œ
import { WebSocketServer } from 'ws';
const wss = new WebSocketServer({ port: 8080 }); // OK
```

### ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ§‹æˆã®å¯èƒ½æ€§

**ãƒ‘ã‚¿ãƒ¼ãƒ³1: é™çš„ + APIåˆ†é›¢**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cloudflare Pages                â”‚
â”‚ - é™çš„ã‚µã‚¤ãƒˆ (/, /about, /blog) â”‚
â”‚ - é«˜é€ŸCDNé…ä¿¡                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ APIã‚³ãƒ¼ãƒ«
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Fly.io                          â”‚
â”‚ - API Routes (/api/*)           â”‚
â”‚ - Webhookå—ä¿¡                   â”‚
â”‚ - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç›´çµ              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ãƒ¡ãƒªãƒƒãƒˆ**:
- é™çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯è¶…é«˜é€ŸCDNé…ä¿¡
- APIã¯åˆ¶ç´„ãªã—Node.jsç’°å¢ƒ
- ã‚³ã‚¹ãƒˆæœ€é©åŒ–

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- CORSè¨­å®šå¿…è¦
- ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼è¤‡é›‘åŒ–
- 2ã¤ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ç®¡ç†

**ãƒ‘ã‚¿ãƒ¼ãƒ³2: Cloudflare Workers + Fly.io Backend**
```
Cloudflare Workers (Edgeé–¢æ•°)
    â†“ è»½é‡API
Fly.io (é‡ã„å‡¦ç†ãƒ»DBç›´çµ)
```

**enablerdao.comå‘ã‘åˆ¤æ–­**:
- ç¾çŠ¶ã®è¦æ¨¡ã§ã¯**éå‰°è¨­è¨ˆ**
- å°†æ¥çš„ã«APIè² è·ãŒé«˜ã¾ã£ãŸã‚‰æ¤œè¨
- ã¾ãšã¯ã‚·ãƒ³ã‚°ãƒ«ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§é–‹å§‹æ¨å¥¨

---

## 4. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ‰‹é †

### Vercel â†’ Cloudflare Pages

#### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæº–å‚™
```bash
# OpenNextæ–¹å¼ï¼ˆæ¨å¥¨ï¼‰
npm install --save-dev @opennextjs/cloudflare

# next.config.tsã«OpenNextè¨­å®šè¿½åŠ 
```

**next.config.ts**:
```typescript
import type { NextConfig } from 'next';

const nextConfig: NextConfig = {
  // Cloudflare Pagesç”¨è¨­å®š
  experimental: {
    runtime: 'nodejs', // OpenNextä½¿ç”¨
  },
};

export default nextConfig;
```

**wrangler.toml** ä½œæˆ:
```toml
name = "enablerdao"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

[observability]
enabled = true

[[env.production.route]]
pattern = "enablerdao.com/*"
zone_name = "enablerdao.com"
```

#### ã‚¹ãƒ†ãƒƒãƒ—2: ç’°å¢ƒå¤‰æ•°ç§»è¡Œ
```bash
# Vercelã‹ã‚‰ç’°å¢ƒå¤‰æ•°ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
vercel env pull .env.local

# Cloudflare Pagesã¸è¨­å®š
# ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ > Pages > Settings > Environment variables
# ã¾ãŸã¯ wrangler CLI:
wrangler pages secret put DATABASE_URL
wrangler pages secret put RESEND_API_KEY
```

#### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ“ãƒ«ãƒ‰è¨­å®š
Cloudflare Pages ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰:
```
Framework preset: Next.js
Build command: npx @cloudflare/next-on-pages
Build output directory: .vercel/output/static
Root directory: (ç©ºç™½)
Environment variables: ï¼ˆã‚¹ãƒ†ãƒƒãƒ—2ã§è¨­å®šæ¸ˆã¿ï¼‰
```

#### ã‚¹ãƒ†ãƒƒãƒ—4: ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š
```bash
# Cloudflare Pagesã§ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¿½åŠ 
# ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ > Pages > Custom domains > Add domain
# enablerdao.com ã‚’è¿½åŠ 

# DNSãƒ¬ã‚³ãƒ¼ãƒ‰è¨­å®šï¼ˆCloudflare DNSä½¿ç”¨æ™‚ï¼‰
# è‡ªå‹•çš„ã«CNAMEãƒ¬ã‚³ãƒ¼ãƒ‰è¿½åŠ ã•ã‚Œã‚‹
```

#### ã‚¹ãƒ†ãƒƒãƒ—5: æ®µéšçš„ç§»è¡Œ
1. **ãƒ†ã‚¹ãƒˆãƒ‡ãƒ—ãƒ­ã‚¤**: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼URLã§å‹•ä½œç¢ºèª
2. **DNSãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼**: `preview.enablerdao.com` ãªã©ã§å…ˆè¡Œå…¬é–‹
3. **æœ¬ç•ªåˆ‡ã‚Šæ›¿ãˆ**: Vercelã‹ã‚‰ `enablerdao.com` ã®DNSã‚’Cloudflareã¸å¤‰æ›´
4. **æ¤œè¨¼æœŸé–“**: 1é€±é–“Vercelãƒ‡ãƒ—ãƒ­ã‚¤ä¸¦è¡Œç¨¼åƒï¼ˆãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨ï¼‰
5. **Vercelå‰Šé™¤**: å•é¡Œãªã‘ã‚Œã°Vercelãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå‰Šé™¤

**æ³¨æ„ç‚¹**:
- âš ï¸ **25MiBåˆ¶é™**: ãƒ“ãƒ«ãƒ‰å¾Œã‚µã‚¤ã‚ºã‚’ç¢ºèª `du -sh .vercel/output/static`
- âš ï¸ **Edge Runtimeåˆ¶ç´„**: `fs`, `crypto`ç­‰ä½¿ç”¨ç®‡æ‰€ã‚’äº‹å‰ãƒã‚§ãƒƒã‚¯
- âš ï¸ **API Routes**: ã™ã¹ã¦ã®APIã§ `export const runtime = 'edge'` ç¢ºèªï¼ˆæ—§æ–¹å¼ã®å ´åˆï¼‰

---

### Vercel â†’ Fly.io

#### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæº–å‚™
```bash
# flyctl ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆæœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®å ´åˆï¼‰
curl -L https://fly.io/install.sh | sh

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã§åˆæœŸåŒ–
fly launch
# â†’ ã‚¢ãƒ—ãƒªå: enablerdao
# â†’ ãƒªãƒ¼ã‚¸ãƒ§ãƒ³: nrt (Tokyo)
# â†’ Postgresãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: Noï¼ˆæ—¢å­˜DBä½¿ç”¨ï¼‰
```

#### ã‚¹ãƒ†ãƒƒãƒ—2: Dockerfileä½œæˆ
**Dockerfile**:
```dockerfile
FROM node:20-alpine AS base

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
FROM base AS deps
WORKDIR /app
COPY package.json package-lock.json ./
RUN npm ci

# ãƒ“ãƒ«ãƒ‰
FROM base AS builder
WORKDIR /app
COPY --from=deps /app/node_modules ./node_modules
COPY . .

# Next.js standaloneå‡ºåŠ›
ENV NEXT_TELEMETRY_DISABLED=1
RUN npm run build

# å®Ÿè¡Œç’°å¢ƒ
FROM base AS runner
WORKDIR /app

ENV NODE_ENV=production
ENV NEXT_TELEMETRY_DISABLED=1

RUN addgroup --system --gid 1001 nodejs
RUN adduser --system --uid 1001 nextjs

# standaloneãƒ•ã‚¡ã‚¤ãƒ«ã‚³ãƒ”ãƒ¼
COPY --from=builder /app/public ./public
COPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./
COPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static

USER nextjs

EXPOSE 3000

ENV PORT=3000
ENV HOSTNAME="0.0.0.0"

CMD ["node", "server.js"]
```

**next.config.ts** ã«è¿½åŠ :
```typescript
const nextConfig: NextConfig = {
  output: 'standalone', // Fly.ioç”¨
};
```

#### ã‚¹ãƒ†ãƒƒãƒ—3: fly.tomlè¨­å®š
```toml
app = 'enablerdao'
primary_region = 'nrt'

[build]

[env]
  PORT = "3000"

[http_service]
  internal_port = 3000
  force_https = true
  auto_stop_machines = "stop"
  auto_start_machines = true
  min_machines_running = 1
  processes = ['app']

  [http_service.concurrency]
    type = "requests"
    hard_limit = 250
    soft_limit = 200

[[vm]]
  memory = '512mb'
  cpu_kind = 'shared'
  cpus = 1
```

#### ã‚¹ãƒ†ãƒƒãƒ—4: ç’°å¢ƒå¤‰æ•°è¨­å®š
```bash
# Vercelã‹ã‚‰ç’°å¢ƒå¤‰æ•°å–å¾—
vercel env pull .env.local

# Fly.ioã¸è¨­å®šï¼ˆSecretã¨ã—ã¦ä¿å­˜ï¼‰
fly secrets set DATABASE_URL="postgresql://..."
fly secrets set RESEND_API_KEY="re_..."
fly secrets set NEXT_PUBLIC_SITE_URL="https://enablerdao.com"

# ç¢ºèª
fly secrets list
```

#### ã‚¹ãƒ†ãƒƒãƒ—5: åˆå›ãƒ‡ãƒ—ãƒ­ã‚¤
```bash
# ãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè¡Œ
fly deploy

# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª
fly status

# ãƒ­ã‚°ç¢ºèª
fly logs

# å‹•ä½œç¢ºèª
curl https://enablerdao.fly.dev
```

#### ã‚¹ãƒ†ãƒƒãƒ—6: ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š
```bash
# è¨¼æ˜æ›¸ä½œæˆ
fly certs create enablerdao.com
fly certs create www.enablerdao.com

# DNSè¨­å®šç¢ºèª
fly certs show enablerdao.com

# DNSãƒ¬ã‚³ãƒ¼ãƒ‰è¿½åŠ ï¼ˆãŠä½¿ã„ã®DNSãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã§ï¼‰
# A ãƒ¬ã‚³ãƒ¼ãƒ‰: enablerdao.com â†’ [Fly.ioãŒæŒ‡å®šã™ã‚‹IP]
# AAAA ãƒ¬ã‚³ãƒ¼ãƒ‰: enablerdao.com â†’ [Fly.ioãŒæŒ‡å®šã™ã‚‹IPv6]
# CNAME ãƒ¬ã‚³ãƒ¼ãƒ‰: www.enablerdao.com â†’ enablerdao.com

# è¨¼æ˜æ›¸ç™ºè¡Œç¢ºèªï¼ˆæ•°åˆ†ã€œæ•°æ™‚é–“ï¼‰
fly certs check enablerdao.com
```

#### ã‚¹ãƒ†ãƒƒãƒ—7: æ®µéšçš„ç§»è¡Œ
1. **ãƒ†ã‚¹ãƒˆãƒ‡ãƒ—ãƒ­ã‚¤**: `enablerdao.fly.dev` ã§å‹•ä½œç¢ºèª
2. **DNSæ®µéšç§»è¡Œ**: TTLã‚’çŸ­ãè¨­å®šï¼ˆ300ç§’ï¼‰
3. **æœ¬ç•ªåˆ‡ã‚Šæ›¿ãˆ**: DNSã‚’Fly.io IPã¸å¤‰æ›´
4. **ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°**: `fly logs` ã§ç›£è¦–
5. **ã‚¹ã‚±ãƒ¼ãƒ«èª¿æ•´**: å¿…è¦ã«å¿œã˜ã¦ `fly scale count 2`

**æ³¨æ„ç‚¹**:
- âœ… **sharpã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**: ç”»åƒæœ€é©åŒ–ã«å¿…è¦
  ```bash
  npm install sharp
  ```
- âœ… **ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯**: `/api/health` ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæ¨å¥¨
- âœ… **ãƒ¡ãƒ¢ãƒªè¨­å®š**: 512MBä»¥ä¸Šæ¨å¥¨ï¼ˆ256MBã ã¨OOMç™ºç”Ÿå¯èƒ½æ€§ï¼‰

---

### ãƒ‡ãƒ¼ã‚¿ç§»è¡Œå…±é€šäº‹é …

#### ç’°å¢ƒå¤‰æ•°ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
```bash
# å¿…é ˆç’°å¢ƒå¤‰æ•°
DATABASE_URL          # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šæ–‡å­—åˆ—
RESEND_API_KEY        # ãƒ¡ãƒ¼ãƒ«é€ä¿¡API
NEXT_PUBLIC_SITE_URL  # ã‚µã‚¤ãƒˆURL

# å°†æ¥çš„ã«å¿…è¦
STRIPE_SECRET_KEY
STRIPE_WEBHOOK_SECRET
GITHUB_TOKEN
```

#### ãƒ‡ãƒ—ãƒ­ã‚¤å‰ç¢ºèªé …ç›®
- [ ] ã™ã¹ã¦ã®APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒå‹•ä½œï¼ˆ`/api/newsletter`ç­‰ï¼‰
- [ ] ç’°å¢ƒå¤‰æ•°ãŒæ­£ã—ãè¨­å®š
- [ ] ç”»åƒæœ€é©åŒ–ãŒå‹•ä½œï¼ˆsharpã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ï¼‰
- [ ] ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³SSLè¨¼æ˜æ›¸ç™ºè¡Œå®Œäº†
- [ ] ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãªã—
- [ ] ãƒ­ã‚°å‡ºåŠ›æ­£å¸¸

---

## 5. ã‚³ã‚¹ãƒˆæ¯”è¼ƒï¼ˆãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯æˆé•·ã‚·ãƒŠãƒªã‚ªï¼‰

### å‰ææ¡ä»¶
- **ç¾åœ¨**: æœˆé–“6,000ã€œ10,000è¨ªå•
- **3ãƒ¶æœˆå¾Œ**: æœˆé–“15,000è¨ªå•ï¼ˆæˆé•·ç‡ +50%ï¼‰
- **6ãƒ¶æœˆå¾Œ**: æœˆé–“30,000è¨ªå•ï¼ˆæˆé•·ç‡ +200%ï¼‰
- **12ãƒ¶æœˆå¾Œ**: æœˆé–“60,000è¨ªå•ï¼ˆæˆé•·ç‡ +500%ï¼‰
- **å¹³å‡ãƒšãƒ¼ã‚¸ã‚µã‚¤ã‚º**: 1MB
- **PV/è¨ªå•**: 3ãƒšãƒ¼ã‚¸

### Cloudflare Pages

| æœŸé–“ | æœˆé–“è¨ªå• | PV | å¸¯åŸŸå¹… | ãƒ“ãƒ«ãƒ‰ | æœˆé¡ã‚³ã‚¹ãƒˆ |
|------|---------|-------|-------|-------|-----------|
| ç¾åœ¨ | 10,000 | 30,000 | 30GB | 30å› | **$0** (ç„¡æ–™æ ) |
| 3ãƒ¶æœˆå¾Œ | 15,000 | 45,000 | 45GB | 40å› | **$0** (ç„¡æ–™æ ) |
| 6ãƒ¶æœˆå¾Œ | 30,000 | 90,000 | 90GB | 50å› | **$0** (ç„¡æ–™æ ) |
| 12ãƒ¶æœˆå¾Œ | 60,000 | 180,000 | 180GB | 80å› | **$5** (Workers Paid) |

**å†…è¨³ï¼ˆ12ãƒ¶æœˆå¾Œï¼‰**:
```
Workers Paid: $5/æœˆï¼ˆåŸºæœ¬æ–™é‡‘ï¼‰
- 1,000ä¸‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æœˆã¾ã§è¾¼ã¿
- 180,000ãƒªã‚¯ã‚¨ã‚¹ãƒˆ = ç„¡æ–™æ å†…
- è¿½åŠ æ–™é‡‘ãªã—

åˆè¨ˆ: $5/æœˆ
```

### Fly.io

| æœŸé–“ | æœˆé–“è¨ªå• | PV | å¸¯åŸŸå¹… | VMæ§‹æˆ | æœˆé¡ã‚³ã‚¹ãƒˆ |
|------|---------|-------|-------|--------|-----------|
| ç¾åœ¨ | 10,000 | 30,000 | 30GB | 1å° (shared-256MB) | **$0** (ç„¡æ–™æ ) |
| 3ãƒ¶æœˆå¾Œ | 15,000 | 45,000 | 45GB | 1å° (shared-256MB) | **$0** (ç„¡æ–™æ ) |
| 6ãƒ¶æœˆå¾Œ | 30,000 | 90,000 | 90GB | 1å° (shared-256MB) | **$0** (ç„¡æ–™æ ) |
| 12ãƒ¶æœˆå¾Œ | 60,000 | 180,000 | 180GB | 2å° (shared-512MB) | **$7.76** |

**å†…è¨³ï¼ˆ12ãƒ¶æœˆå¾Œï¼‰**:
```
VM 2å°ï¼ˆshared-cpu-1x, 512MB, å¸¸æ™‚ç¨¼åƒï¼‰:
- $3.88/æœˆ Ã— 2å° = $7.76/æœˆ

å¸¯åŸŸå¹…:
- 180GB - 160GBç„¡æ–™ = 20GBè¶…é
- 20GB Ã— $0.02 = $0.40/æœˆ

ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼ˆ.next/standalone 100MBæƒ³å®šï¼‰:
- ç„¡æ–™æ ï¼ˆ3GBï¼‰å†…

åˆè¨ˆ: $7.76 + $0.40 = $8.16/æœˆ
```

### ã‚³ã‚¹ãƒˆæ¯”è¼ƒã‚°ãƒ©ãƒ•

```
æœˆé¡ã‚³ã‚¹ãƒˆ ($)
  12 |                                        Fly.io: $8.16
     |                                         â”Œâ”€â”€â”€â”€
  10 |                                      â”Œâ”€â”€â”˜
     |                                    â”Œâ”€â”˜
   8 |                                 â”Œâ”€â”€â”˜
     |                               â”Œâ”€â”˜
   6 |                            â”Œâ”€â”€â”˜
     |                         â”Œâ”€â”€â”˜          Cloudflare: $5
   4 |                      â”Œâ”€â”€â”˜              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     |                   â”Œâ”€â”€â”˜
   2 |                â”Œâ”€â”€â”˜
     |             â”Œâ”€â”€â”˜
   0 |â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     +â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> æ™‚é–“
      ç¾åœ¨    3ãƒ¶æœˆ   6ãƒ¶æœˆ              12ãƒ¶æœˆ

ä¸¡æ–¹ã¨ã‚‚6ãƒ¶æœˆã¾ã§ç„¡æ–™æ å†…
```

### å¹´é–“ã‚³ã‚¹ãƒˆè©¦ç®—

| ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  | å¹´é–“ç·é¡ï¼ˆ12ãƒ¶æœˆå¹³å‡ï¼‰ | å‚™è€ƒ |
|---------------|---------------------|------|
| **Cloudflare Pages** | **$30** | æœ€åˆ9ãƒ¶æœˆç„¡æ–™ã€æ®‹ã‚Š3ãƒ¶æœˆ $5/æœˆ |
| **Fly.io** | **$49** | æœ€åˆ9ãƒ¶æœˆç„¡æ–™ã€æ®‹ã‚Š3ãƒ¶æœˆ $8.16/æœˆï¼ˆæˆé•·å¾Œï¼‰ |

**å·®é¡**: $19/å¹´ â†’ **æœˆé¡ç´„$1.58ã®å·®**

---

## 6. æœ€çµ‚æ¨å¥¨

### ğŸ† æ¨å¥¨: **Cloudflare Pages with OpenNext**

#### æ¨å¥¨ç†ç”±

1. **ã‚³ã‚¹ãƒˆå„ªä½æ€§**
   - å¹´é–“$30ï¼ˆFly.io: $49ï¼‰ â†’ **$19ç¯€ç´„**
   - ç„¡æ–™æ ãŒéå¸¸ã«åºƒã„ï¼ˆç„¡åˆ¶é™å¸¯åŸŸå¹…ï¼‰
   - ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯æˆé•·ã—ã¦ã‚‚æœˆ$5ã§å›ºå®š

2. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**
   - ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·15mså‰å¾Œï¼ˆFly.io: 50-100msï¼‰
   - å…¨ä¸–ç•Œ300+æ‹ ç‚¹ã®CDN
   - enablerdao.comã¯é™çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„70% â†’ CDNåŠ¹æœå¤§

3. **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**
   - è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒ«ã€è¨­å®šä¸è¦
   - ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯æ€¥å¢—ã«ã‚‚å³åº§ã«å¯¾å¿œ
   - ãƒã‚¤ãƒ©ãƒ«æ™‚ã®å®‰å¿ƒæ„Ÿ

4. **é–‹ç™ºè€…ä½“é¨“**
   - GitHubé€£æºãŒéå¸¸ã«ç°¡å˜
   - ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤è‡ªå‹•ç”Ÿæˆ
   - Wrangler CLIã§å¿«é©ãªé–‹ç™º

5. **é‹ç”¨è² è·ã®ä½ã•**
   - ã‚¤ãƒ³ãƒ•ãƒ©ç®¡ç†ã»ã¼ä¸è¦
   - è‡ªå‹•SSLã€è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒ«
   - éšœå®³å¯¾å¿œä¸è¦ï¼ˆCloudflare SLAï¼‰

#### æ¡ç”¨æ¡ä»¶

âœ… **ä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™å ´åˆã«æ¡ç”¨**:

1. **OpenNextæ–¹å¼ã‚’æ¡ç”¨**ï¼ˆ`@opennextjs/cloudflare`ï¼‰
   - Edge Runtimeåˆ¶ç´„ã‚’å›é¿
   - Node.jsæ¨™æº–æ©Ÿèƒ½ã‚’åˆ©ç”¨å¯èƒ½
   - 25MiBåˆ¶é™ã«æ³¨æ„

2. **APIãƒ«ãƒ¼ãƒˆã®è¤‡é›‘åº¦ãŒä½ã„**
   - Newsletterè³¼èª­APIç¨‹åº¦
   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ã¯å¤–éƒ¨DBï¼ˆSupabaseç­‰ï¼‰
   - WebSocketä¸è¦

3. **ãƒ“ãƒ«ãƒ‰ã‚µã‚¤ã‚ºç®¡ç†**
   - `.next/standalone` ã‚’25MiBä»¥å†…ã«ç¶­æŒ
   - ä¸è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å‰Šé™¤
   - ç”»åƒæœ€é©åŒ–ï¼ˆCloudflare Imagesåˆ©ç”¨æ¤œè¨ï¼‰

#### å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—

```bash
# 1. OpenNextã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install --save-dev @opennextjs/cloudflare

# 2. wrangler.tomlä½œæˆ
cat > wrangler.toml <<EOF
name = "enablerdao"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]
EOF

# 3. GitHubé€£æº
# Cloudflare Pagesãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ > æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ > GitHubé€£æº

# 4. ãƒ“ãƒ«ãƒ‰è¨­å®š
# Build command: npx @cloudflare/next-on-pages
# Build output: .vercel/output/static

# 5. ç’°å¢ƒå¤‰æ•°è¨­å®š
# ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ > Settings > Environment variables

# 6. ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¿½åŠ 
# enablerdao.com, www.enablerdao.com

# 7. ãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè¡Œ
git push origin main
```

#### ç§»è¡Œã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³

```
Week 1: ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ»ãƒ†ã‚¹ãƒˆãƒ‡ãƒ—ãƒ­ã‚¤
â”œâ”€ Day 1-2: OpenNextè¨­å®šã€wrangler.tomlä½œæˆ
â”œâ”€ Day 3-4: GitHubé€£æºã€ãƒ“ãƒ«ãƒ‰è¨­å®š
â”œâ”€ Day 5-6: ç’°å¢ƒå¤‰æ•°ç§»è¡Œ
â””â”€ Day 7: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼URLå‹•ä½œç¢ºèª

Week 2: æ®µéšçš„ç§»è¡Œ
â”œâ”€ Day 8-9: preview.enablerdao.comå…¬é–‹
â”œâ”€ Day 10-12: ç¤¾å†…ãƒ†ã‚¹ãƒˆãƒ»ãƒã‚°ä¿®æ­£
â””â”€ Day 13-14: æœ¬ç•ªDNSåˆ‡ã‚Šæ›¿ãˆ

Week 3: ç›£è¦–ãƒ»æœ€é©åŒ–
â”œâ”€ Day 15-18: Analyticsç›£è¦–ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š
â”œâ”€ Day 19-20: ç”»åƒæœ€é©åŒ–ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥èª¿æ•´
â””â”€ Day 21: Vercelãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå‰Šé™¤
```

---

### âš ï¸ Fly.ioã‚’é¸ã¶ã¹ãã‚±ãƒ¼ã‚¹

ä»¥ä¸‹ã®å ´åˆã¯Fly.ioã‚’é¸æŠ:

1. **WebSocket/ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ©Ÿèƒ½ãŒå¿…é ˆ**
   - ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½å®Ÿè£…äºˆå®š
   - Server-Sent Eventså¤šç”¨

2. **æ—¢å­˜ã‚¤ãƒ³ãƒ•ãƒ©çµ±åˆé‡è¦–**
   - jiuflow-ssrã¨ã®é‹ç”¨çµ±ä¸€
   - Fly Postgresä½¿ç”¨

3. **Dockerfileå®Œå…¨åˆ¶å¾¡ãŒå¿…è¦**
   - ã‚«ã‚¹ã‚¿ãƒ ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹
   - ç‰¹æ®Šãªãƒ©ãƒ³ã‚¿ã‚¤ãƒ è¦ä»¶

4. **25MiBã‚µã‚¤ã‚ºåˆ¶é™ãŒå³ã—ã„**
   - å¤§è¦æ¨¡ãƒ¢ãƒãƒªã‚¹ã‚¢ãƒ—ãƒª
   - å¤šæ•°ã®ä¾å­˜é–¢ä¿‚

---

## 7. å‚è€ƒãƒªãƒ³ã‚¯

### Cloudflare Pages
- [Cloudflare Pages Limits](https://developers.cloudflare.com/pages/platform/limits/)
- [Workers & Pages Pricing](https://www.cloudflare.com/plans/developer-platform/)
- [Next.js on Cloudflare](https://developers.cloudflare.com/workers/framework-guides/web-apps/nextjs/)
- [OpenNext Cloudflare Guide](https://opennext.js.org/cloudflare)
- [Migration Guide: Vercel to Cloudflare](https://developers.cloudflare.com/pages/migrations/migrating-from-vercel/)

### Fly.io
- [Fly.io Pricing Calculator](https://fly.io/calculator)
- [Fly.io Resource Pricing](https://fly.io/docs/about/pricing/)
- [Deploy Next.js to Fly.io](https://fly.io/docs/js/frameworks/nextjs/)
- [Fly.io Cost Management](https://fly.io/docs/about/cost-management/)

### æ¯”è¼ƒè¨˜äº‹
- [Vercel vs Cloudflare vs Fly.io Comparison](https://jhakim.com/blog/vercel-vs-cloudflare-vs-flyio-pricing-performance-developer-experience)
- [Best Next.js Hosting Providers 2026](https://makerkit.dev/blog/tutorials/best-hosting-nextjs)
- [Cloudflare + Fly.io Performance](https://community.fly.io/t/cloudflare-fly-for-better-performance/1595)
- [Next.js Hosting Options Compared](https://www.nandann.com/blog/nextjs-hosting-options-comparison)

---

## 8. ã¾ã¨ã‚

| è©•ä¾¡é …ç›® | Cloudflare Pages | Fly.io |
|---------|-----------------|--------|
| **ã‚³ã‚¹ãƒˆ** | â­â­â­â­â­ (5/5) | â­â­â­â­ (4/5) |
| **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹** | â­â­â­â­â­ (5/5) | â­â­â­â­ (4/5) |
| **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£** | â­â­â­â­â­ (5/5) | â­â­â­â­ (4/5) |
| **Next.jsäº’æ›æ€§** | â­â­â­â­ (4/5) | â­â­â­â­â­ (5/5) |
| **é–‹ç™ºè€…ä½“é¨“** | â­â­â­â­ (4/5) | â­â­â­â­ (4/5) |
| **é‹ç”¨è² è·** | â­â­â­â­â­ (5/5) | â­â­â­â­ (4/5) |
| **ç·åˆè©•ä¾¡** | **â­â­â­â­â­ (4.8/5)** | **â­â­â­â­ (4.2/5)** |

**enablerdao.comå‘ã‘æœ€çµ‚åˆ¤æ–­**:
â†’ **Cloudflare Pages with OpenNext** ã‚’æ¡ç”¨æ¨å¥¨

**ç†ç”±**:
- é™çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¸­å¿ƒã®ã‚µã‚¤ãƒˆæ§‹æˆã«æœ€é©
- ã‚³ã‚¹ãƒˆæœ€å°ï¼ˆå¹´é–“$30ï¼‰
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é«˜ï¼ˆCDNé…ä¿¡ï¼‰
- é‹ç”¨è² è·æœ€å°ï¼ˆè‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒ«ï¼‰
- OpenNextã§åˆ¶ç´„ã‚’å…‹æœå¯èƒ½

**æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**:
1. `wrangler.toml` ä½œæˆ
2. `@opennextjs/cloudflare` ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
3. GitHubé€£æºè¨­å®š
4. ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè¡Œ
5. å‹•ä½œç¢ºèªå¾Œã€æœ¬ç•ªDNSåˆ‡ã‚Šæ›¿ãˆ

---

**ä½œæˆè€…**: Claude Sonnet 4.5
**ä½œæˆæ—¥**: 2026-02-14
**å¯¾è±¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: enablerdao.com
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0
